!function(){function t(t){return t&&t.__esModule?t.default:t}function e(t){return fetch(`https://thecocktaildb.com/api/json/v1/1/search.php?i=${t}`).then((t=>t.json())).then((({ingredients:t})=>t[0]))}var n={};n='<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="m10.253 9 7.37-7.369A.888.888 0 0 0 16.368.378l-7.37 7.369L1.632.369A.893.893 0 1 0 .369 1.63L7.747 9 .369 16.369a.89.89 0 1 0 1.253 1.253L9 10.253l7.369 7.37a.889.889 0 0 0 1.253-1.254L10.253 9Z"/></svg>';const i={cocktailsKey:"fav-cocktails",ingredientsKey:"fav-ingredients",getCocktails(){return JSON.parse(localStorage.getItem(this.cocktailsKey))||[]},getIngredients(){return JSON.parse(localStorage.getItem(this.ingredientsKey))||[]},isCocktailInFavorite(t){return this.getCocktails().includes(t)},isIngredientInFavorite(t){return this.getIngredients().includes(t)},addCocktail(t){const e=this.getCocktails();e.push(t),localStorage.setItem(this.cocktailsKey,JSON.stringify(e))},removeCocktail(t){const e=this.getCocktails(),n=e.indexOf(t);e.splice(n,1),localStorage.setItem(this.cocktailsKey,JSON.stringify(e))},addIngredient(t){const e=this.getIngredients();e.push(t),localStorage.setItem(this.ingredientsKey,JSON.stringify(e))},removeIngredient(t){const e=this.getIngredients(),n=e.indexOf(t);e.splice(n,1),localStorage.setItem(this.ingredientsKey,JSON.stringify(e))}},s=document.querySelector("#modal-ingredients-details");function a(a){"ingredient"===a.target.dataset.name&&e(a.target.dataset.ingredient).then((e=>{s.innerHTML=function(e){const s=i.isIngredientInFavorite(e.strIngredient)?"Remove from favorite":"Add to favorite";return`\n    <div class="ingredients__btn">\n    <button type="button" class="ingredients__button-close">\n    ${t(n)}\n    </button>\n  </div>\n  <h2 class="ingredients__title">${e.strIngredient}</h2>\n  <h3 class="ingredients__topic">${e.strType||"-"}</h3>\n  <div class="ingredients__line-container">\n    <div class="ingredients__line"></div>\n  </div>\n  <p class="ingredients__text">\n    ${e.strDescription||"Sorry, there is no description for this ingredient"}\n  </p>\n  <ul class="ingredients__list">\n  <li class= "ingredients__item"> <span class="ingredients__black">✶ </span> Type: ${e.strType||"-"}</li>\n  <li class= "ingredients__item"> <span class="ingredients__black">✶ </span> Alcoholic: ${e.strAlcohol||"-"}</li>\n  <li class= "ingredients__item"> <span class="ingredients__black">✶ </span> Alcohol by volume: ${e.strABV||"-"}</li>\n  </ul>\n  <button type="button" class="ingredients__button" data-name="add-remove" data-id="${e.strIngredient}">${s}</button>`}(e);const a=s.querySelector(".ingredients__button-close");s.querySelector(".ingredients__button").addEventListener("click",o),a.addEventListener("click",r),s.classList.toggle("show-modal")}))}function r(){s.innerHTML="",s.classList.toggle("show-modal")}function o(t){const e=t.target.dataset.id,n=document.querySelector(`.btn__add[data-id="${e}"]`);n.classList.toggle("icon-active"),i.isIngredientInFavorite(e)?(i.removeIngredient(e),t.target.textContent="Add to favorite",n.querySelector(".btn-text").innerHTML="Add to"):(i.addIngredient(e),t.target.textContent="Remove from favorite",n.querySelector(".btn-text").innerHTML="Remove")}var c={};function d(e){return e.map((({strIngredient:e,strType:n})=>function(e,n){const s=document.createElement("li");s.className="cocktails__item cocktails__item-ingredients";const a=i.isIngredientInFavorite(e),r=a?"btn__add icon-active":"btn__add",o=a?"Remove":"Add to";return s.innerHTML=`\n            <div class="cocktails__descr cocktails__container">\n            <h3 title="${e}" class="cocktails__name cocktails__name--ingredients">${e}</h3>\n            <p title="${n}" class="cocktails__category">${n||"Common"}</p>\n            <div class="cocktails__btns">\n                <button class="btn__learn" type="button" data-name="ingredient" data-ingredient="${e}" data-id="${e}" >Learn more</button>\n                <button class="${r}" type="button" data-name="add-remove" data-id="${e}"><span data-name="add-remove" class="btn-text">${o}</span> <span data-name="add-remove" class="heart-icon">${t(c)}</span></button>\n            </div>\n        </div>\n        `,s.addEventListener("click",l),s}(e,n)))}function l(t){const e=t.target.dataset.name;if("ingredient"===e&&a(t),"add-remove"===e||"heart-icon"===e){const e=t.currentTarget.querySelector(".btn__add"),n=e.querySelector(".btn-text"),s=e.dataset.id;e.classList.toggle("icon-active"),i.isIngredientInFavorite(s)?(i.removeIngredient(s),n.textContent="Add to"):(i.addIngredient(s),n.textContent="Remove")}}c='<svg data-name="heart-icon" width="21" height="19" xmlns="http://www.w3.org/2000/svg"><path data-name="heart-icon" class="icon-outline" d="m10.5 19-1.523-1.367C3.57 12.798 0 9.61 0 5.695 0 2.505 2.541 0 5.775 0c1.827 0 3.58.839 4.725 2.164A6.324 6.324 0 0 1 15.225 0C18.459 0 21 2.506 21 5.695c0 3.914-3.57 7.103-8.977 11.949L10.5 19Z"/><path data-name="heart-icon" class="icon-background" d="m10.5 17-1.232-1.079C4.89 12.104 2 9.586 2 6.496 2 3.978 4.057 2 6.675 2c1.479 0 2.898.662 3.825 1.708A5.175 5.175 0 0 1 14.325 2C16.943 2 19 3.978 19 6.496c0 3.09-2.89 5.607-7.268 9.433L10.5 17Z"/></svg>';const g=document.querySelector(".content-results");!async function(){const t=function(){const t=i.getIngredients().reduce(((t,n)=>(t.push(e(n)),t)),[]);return t}(),n=await Promise.all(t).catch((t=>console.log(t)));if(console.log(n),0===n.length)return void(g.innerHTML='<p class="favorite__none">\nYou haven\'t added any <br>favorite ingredients yet</p>');g.innerHTML="",g.append(...d(n))}()}();
//# sourceMappingURL=fav-ingredients.34bf5800.js.map

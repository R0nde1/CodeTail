{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/js/fetch-cocktails.js","src/js/get-drinks-markup.js","src/js/modal-cocktails.js","node_modules/@parcel/runtime-js/lib/runtime-368966c2db27b071.js","node_modules/@parcel/runtime-js/lib/runtime-ffc8efe233861940.js","node_modules/@parcel/runtime-js/lib/runtime-3b4b9dcfce3e79ee.js","node_modules/@parcel/runtime-js/lib/runtime-ca8416468db7fb9d.js","node_modules/@parcel/runtime-js/lib/runtime-e57e0497c1adffe7.js","src/js/main.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","export function fetchRandomCocktails(amount) {\n    const allPromises = [];\n\n    for (let count = 0; count < amount; count++) {\n        allPromises.push(fetch('https://thecocktaildb.com/api/json/v1/1/random.php').then(response => response.json()));\n    }\n\n    return Promise.all(allPromises).then(data => {\n        return data.map(item => item.drinks[0]);\n    })\n}\n\nexport function fetchCocktailsByName(name) {\n    return fetch(`https://thecocktaildb.com/api/json/v1/1/search.php?s=${name}`)\n        .then(response => response.json())\n        .then(({drinks}) => {\n            if(!drinks) throw \"Sorry, we didn't find<br>any cocktail for you\";\n\n            return drinks;\n        })\n}\n\nexport function fetchCocktailById(id) {\n    return fetch(`https://thecocktaildb.com/api/json/v1/1/lookup.php?i=${id}`)\n        .then(response => response.json())\n        .then(({drinks}) => drinks[0]);\n}\n","import { showDrinkModal } from \"./modal-cocktails\";\nimport servingDesk from \"../img/serving_desk.png\";\nimport servingDesk2 from \"../img/serving_desk@2x.png\";\nimport servingMob from \"../img/serving_mob.png\";\nimport servingMob2 from \"../img/serving_mob@2x.png\";\n\nexport function getDrinksMarkup(array) {\n    const markup = array.map(({ strDrink, strDrinkThumb, idDrink }) => {\n        return getCardMarkup(strDrink, strDrinkThumb, idDrink)\n    }).join('');\n\n    return markup;\n}\n\n\nfunction getCardMarkup(name, imageSrc, id) {\n    return (`\n<li id=\"${id}\" class=\"cocktails__item\">\n    <img class=\"cocktails__img\" src=\"${imageSrc}\" alt=\"cocktail\"/>\n    <div class=\"cocktails__descr\">\n        <h3 title=\"${name}\" class=\"cocktails__name\">${name}</h3>\n        <div class=\"cocktails__btns\">\n            <button class=\"btn__learn\" type=\"button\" name=\"learn-more\" data-id=\"${id}\" >Learn more</button>\n            <button class=\"btn__delete\" type=\"button\">Remove</button>\n        </div>\n    </div>\n</li>\n`)\n}\n\nexport function getErrorMarkup() {\n    return (`<li><picture>\n        <source\n        media=\"(min-width: 768px)\"\n        srcset=\"${servingDesk}, ${servingDesk2} 2x\"\n        type=\"image/png\"/>\n        <source\n        media=\"(max-width: 767px)\"\n        srcset=\"${servingMob}, ${servingMob2} 2x\"\n        type=\"image/png\"/>\n        <img src=\"${servingDesk}\" alt=\"People in the cafe\" width=\"345\" height=\"380\"/>\n        </picture>\n        </li>\n      `)\n}\n\nexport function handleCardClick(event) {\n    \n    if (event.target.name === 'learn-more') {\n        const id = event.target.dataset.id;\n        showDrinkModal(id);\n    }\n    if (event.target.name === 'addRemove') {\n        event.target.classList.toggle('btn__delete');\n    }\n}","import { fetchCocktailById } from \"./fetch-cocktails\";\nconst drinkModal = document.querySelector( '#modal-drink-detail')\nexport function showDrinkModal(id) {\n    fetchCocktailById(id)\n    .then(data => {\n        drinkModal.innerHTML = getDrinkModalMarkup(data);\n        const closeCocktailBtn = drinkModal.querySelector( '.modal__button');\n        const ingredientList = drinkModal.querySelector('.ingredients__list');\n        ingredientList.innerHTML= getIngredientsList(data);\n        closeCocktailBtn.addEventListener('click', closeCocktailModal);\ndrinkModal.classList.toggle('show-modal')\n    })\n}\n\nfunction getDrinkModalMarkup(details){\n    return (`<button class=\"modal__button\" data-modal-close><svg class=\"modal-icon-close\" width=\"18\" height=\"18\"><use href=\"./img/sprite.svg#icon-close-line\"></use></svg></button>\n        <div class=\"modal__cocktail\">\n            <h3 class=\"modal__title\">${details.strDrink}</h3>\n            <div class=\"modal__instructions-hold\">\n                <h4 class=\"modal__instructions\">INSTRUCTION:</h4>\n                <p class=\"instruction\">${details.strInstructions}</p>\n            </div>\n            <div class=\"modal__ingredients-hold\">\n                <img class=\"modal__picture\" src=\"${details.strDrinkThumb}\" alt=\"\" width=\"280\" height=\"280\" />\n                <h4 class=\"modal__ingredients\">INGREDIENTS</h4>\n                <p class=\"modal__description\">Per cocktail</p>\n                <ul class=\"ingredients__list\"></ul>\n            </div>\n            <button class=\"modal__button-add\" data-id='${details.idDrink}' type=\"button\" data-modal-add> Add to favorite </button>\n        </div>\n    `)\n}\nfunction getIngredientsList(details){\n    let ingredients =''\n    for (let i = 1; i <= 15; i++) {\n        let ingredient = details['strIngredient'+i];\n        \n        if (ingredient) {\n            ingredients += `<li class= \"ingredient__item\"> <span class=\"ingredientsBlack\">âœ¶ </span>${ingredient}</li>`;\n        } else {\n            break;\n        }\n    }\n    return ingredients\n}\n\nfunction closeCocktailModal(){\n    drinkModal.innerHTML = '';\n    drinkModal.classList.toggle('show-modal');\n}\n\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2MPDQ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4zLgd\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"aVWWu\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3KIbu\")).toString();","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"44K16\\\":\\\"index.f50fb958.js\\\",\\\"2MPDQ\\\":\\\"serving_desk.12e16403.png\\\",\\\"4zLgd\\\":\\\"serving_desk@2x.81b62eeb.png\\\",\\\"aVWWu\\\":\\\"serving_mob.348bdfb7.png\\\",\\\"3KIbu\\\":\\\"serving_mob@2x.f621808a.png\\\"}\"));","import { fetchRandomCocktails } from './fetch-cocktails';\nimport { getDrinksMarkup,handleCardClick} from './get-drinks-markup';\n\nconst contentResults = document.querySelector('#content-results');\nconst contentTitle = document.querySelector('#content-title');\n\nconst width = document.body.clientWidth;\nlet numberOfCocktails = 3;\n\nif (width >= 768) {\n  numberOfCocktails = 6;\n}\nif (width >= 1280) {\n  numberOfCocktails = 9;\n}\n\nfetchRandomCocktails(numberOfCocktails).then(data => {\n  contentTitle.innerHTML = 'Cocktails';\n  contentResults.innerHTML = getDrinksMarkup(data);\n  contentResults.addEventListener('click', handleCardClick)\n});\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$932db8701b90d291$export$873bae7cec94212e","amount","allPromises","count","push","fetch","then","response","json","Promise","all","data","map","item","drinks","$932db8701b90d291$export$182d4be4e08f5e71","name","$932db8701b90d291$export$161cc9256de3aab6","$lJXXB","parcelRequire","$5614f3462d91403d$export$e9926e1be4baa597","array","strDrink","strDrinkThumb","idDrink","join","$5614f3462d91403d$export$6eb1a59944ddc615","$parcel$interopDefault","$7QV8w","$62ejj","$O7LYl","$Hye3R","$5614f3462d91403d$export$858589c490e7ecbe","event","target","dataset","showDrinkModal","classList","toggle","$cDqy2","$fd3c4fcecdc63329$var$drinkModal","document","querySelector","$fd3c4fcecdc63329$export$b04140da9d75c744","fetchCocktailById","details","innerHTML","strInstructions","closeCocktailBtn","ingredients","ingredient","$fd3c4fcecdc63329$var$getIngredientsList","addEventListener","$fd3c4fcecdc63329$var$closeCocktailModal","module","exports","URL","resolve","import","meta","url","toString","register","JSON","parse","$d706c914d748cb55$var$contentResults","$d706c914d748cb55$var$contentTitle","$d706c914d748cb55$var$width","body","clientWidth","$d706c914d748cb55$var$numberOfCocktails","fetchRandomCocktails","$7od7n","getDrinksMarkup","handleCardClick"],"version":3,"file":"index.f50fb958.js.map"}